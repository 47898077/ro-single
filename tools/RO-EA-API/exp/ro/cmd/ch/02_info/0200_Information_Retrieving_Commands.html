<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_191) on Tue Oct 15 01:49:30 CST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>0200_Information_Retrieving_Commands (RO - rAthena Script Commands v20190306 API)</title>
<meta name="date" content="2019-10-15">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="0200_Information_Retrieving_Commands (RO - rAthena Script Commands v20190306 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/0200_Information_Retrieving_Commands.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html" title="exp.ro.cmd.ch.02_info中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html" target="_top">框架</a></li>
<li><a href="0200_Information_Retrieving_Commands.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">exp.ro.cmd.ch.02_info</div>
<h2 title="类 0200_Information_Retrieving_Commands" class="title">类 0200_Information_Retrieving_Commands</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>exp.ro.cmd.ch.02_info.0200_Information_Retrieving_Commands</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">0200_Information_Retrieving_Commands</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></pre>
<div class="block"><pre>
=========================================
|0200.- Information-retrieving commands.|
=========================================
</pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z0200_Information_Retrieving_Commands--">0200_Information_Retrieving_Commands</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_addspiritball--">addspiritball</a></span>()</code>
<div class="block">
<font color="red">
addspiritball &lt;count&gt;,&lt;duration&gt;{,&lt;char_id&gt;};
</font>

        
        Adds spirit ball to player for 'duration' in milisecond.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_countspiritball--">countspiritball</a></span>()</code>
<div class="block">
<font color="red">
countspiritball {&lt;char_id&gt;};
</font>

        
        Counts the spirit ball that player has.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_delspiritball--">delspiritball</a></span>()</code>
<div class="block">
<font color="red">
delspiritball &lt;count&gt;{,&lt;char_id&gt;};
</font>

        
        Deletes the spirit ball(s) from player.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getareausers--">getareausers</a></span>()</code>
<div class="block">
<font color="red">
getareausers("&lt;map name&gt;",&lt;x1&gt;,&lt;y1&gt;,&lt;x2&gt;,&lt;y2&gt;)
</font>

        
        This function will return the count of connected characters which are located
        within the specified area - an x1/y1-x2/y2 square on the specified map.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getarraysize--">getarraysize</a></span>()</code>
<div class="block">
<font color="red">
getarraysize(&lt;array name&gt;)
</font>

        
        This function returns highest index of the array that is filled.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getcharid--">getcharid</a></span>()</code>
<div class="block">
<font color="red">
getcharid(&lt;type&gt;{,"&lt;character name&gt;"})
</font>

        
        This function will return a unique ID number of the invoking character, or, if a
        character name is specified, of that player.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getcharip--">getcharip</a></span>()</code>
<div class="block">
<font color="red">
getcharip({"&lt;character name&gt;"|&lt;account id&gt;|&lt;char id&gt;})
</font>

        
        This function will return the IP address of the invoking character, or, if a player
        is specified, of that character.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getchildid--">getchildid</a></span>()</code>
<div class="block">
<font color="red">
getchildid({&lt;char_id&gt;})
</font>

getmotherid({&lt;char_id&gt;})
getfatherid({&lt;char_id&gt;})
        
        These functions return the character ID of the attached player's child,
        mother, mother, or father, respectively.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getelementofarray--">getelementofarray</a></span>()</code>
<div class="block">
<font color="red">
getelementofarray(&lt;array name&gt;,&lt;index&gt;)
</font>

        
        This command retrieves the value of the element of given array at given index.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getgmlevel--">getgmlevel</a></span>()</code>
<div class="block">
<font color="red">
getgmlevel({&lt;char_id&gt;})
</font>

        
        This function will return the (GM) level associated with the player group to which
        the invoking character belongs.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getgroupid--">getgroupid</a></span>()</code>
<div class="block">
<font color="red">
getgroupid({&lt;char_id&gt;})
</font>

        
        This function will return the group id to which the invoking player belongs.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getlook--">getlook</a></span>()</code>
<div class="block">
<font color="red">
getlook(&lt;type&gt;{,&lt;char_id&gt;})
</font>

        
        This function will return the number for the current character look value
        specified by type.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getmapusers--">getmapusers</a></span>()</code>
<div class="block">
<font color="red">
getmapusers("&lt;map name&gt;")
</font>

        
        This function will return the number of users currently located on the specified
        map.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getmapxy--">getmapxy</a></span>()</code>
<div class="block">
<font color="red">
getmapxy("&lt;variable for map name&gt;",&lt;variable for x&gt;,&lt;variable for y&gt;{,&lt;type&gt;,"&lt;search value&gt;"})
</font>

        
        This function will locate a character object, NPC object or pet's coordinates
        and place their coordinates into the variables specified when calling it.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getmobdrops--">getmobdrops</a></span>()</code>
<div class="block">
<font color="red">
getmobdrops(&lt;mob id&gt;)
</font>

        
        This command will find all drops of the specified mob and return the item IDs
        and drop percentages into arrays of temporary global variables.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getmonsterinfo--">getmonsterinfo</a></span>()</code>
<div class="block">
<font color="red">
getmonsterinfo(&lt;mob ID&gt;,&lt;type&gt;)
</font>

        
        This function will look up the monster with the specified ID number in the
        mob database and return the info set by TYPE argument.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getnpcid--">getnpcid</a></span>()</code>
<div class="block">
<font color="red">
getnpcid(&lt;type&gt;{,"&lt;npc name&gt;"});
</font>

        
        Retrieves IDs of the currently invoked NPC.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getpartnerid--">getpartnerid</a></span>()</code>
<div class="block">
<font color="red">
getpartnerid({&lt;char_id&gt;})
</font>

        
        This function returns the character ID of the invoking character's marriage
        partner, if any.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getsavepoint--">getsavepoint</a></span>()</code>
<div class="block">
<font color="red">
getsavepoint(&lt;information type&gt;{,&lt;char_id&gt;})
</font>

        
        This function will return information about the invoking character's save point.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getscrate--">getscrate</a></span>()</code>
<div class="block">
<font color="red">
getscrate(&lt;effect type&gt;,&lt;base rate&gt;{,&lt;GID&gt;})
</font>

        
        This function will return the chance of a status effect affecting the invoking
        character, in percent, modified by the their current defense against said
        status.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getskilllist--">getskilllist</a></span>()</code>
<div class="block">
<font color="red">
getskilllist({&lt;char_id&gt;});
</font>

        
        This command sets a bunch of arrays with a complete list of skills the
        invoking character has.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getskilllv--">getskilllv</a></span>()</code>
<div class="block">
<font color="red">
getskilllv(&lt;skill id&gt;)
</font>

getskilllv("&lt;skill name&gt;")
        
        This function returns the level of the specified skill that the invoking
        character has.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_gettime--">gettime</a></span>()</code>
<div class="block">
<font color="red">
gettime(&lt;type&gt;)
</font>

        
        This function will return specified information about the current system time.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_gettimestr--">gettimestr</a></span>()</code>
<div class="block">
<font color="red">
gettimestr(&lt;"time format"&gt;,&lt;max length&gt;{,&lt;time_tick&gt;})
</font>

        
        This function will return a string containing time data as specified by the
        time format.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_gettimetick--">gettimetick</a></span>()</code>
<div class="block">
<font color="red">
gettimetick(&lt;tick type&gt;)
</font>

        
        This function will return a tick depending on &lt;tick type&gt;:
         0: The server's tick, a measurement in milliseconds used by the server's timer
            system.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getunits--">getunits</a></span>()</code>
<div class="block">
<font color="red">
getunits(&lt;type&gt;{,&lt;array_variable&gt;[&lt;first value&gt;]})
</font>

getmapunits(&lt;type&gt;,&lt;"map name"&gt;{,&lt;array_variable&gt;[&lt;first value&gt;]})
getareaunits(&lt;type&gt;,&lt;"map name"&gt;,&lt;x1&gt;,&lt;y1&gt;,&lt;x2&gt;,&lt;y2&gt;{,&lt;array_variable&gt;[&lt;first value&gt;]})
        
        The 'getunits' command will return the number of &lt;type&gt; objects active on the server.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_getusers--">getusers</a></span>()</code>
<div class="block">
<font color="red">
getusers(&lt;type&gt;)
</font>

        
        This function will return a number of users on a map or the whole server.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_ignoretimeout--">ignoretimeout</a></span>()</code>
<div class="block">
<font color="red">
ignoretimeout &lt;flag&gt;{,&lt;char_id&gt;};
</font>

        
        Disables the SECURE_NPCTIMEOUT function on the character invoking the script,
        or by the given character ID/character name.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_ispartneron--">ispartneron</a></span>()</code>
<div class="block">
<font color="red">
ispartneron({&lt;char_id&gt;})
</font>

        
        This function returns 1 if the invoking character's marriage partner is
        currently online and 0 if they are not or if the character has no partner.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_mapid2name--">mapid2name</a></span>()</code>
<div class="block">
<font color="red">
mapid2name(&lt;map ID&gt;)
</font>

        
        Returns the map name of the given map ID.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_readparam--">readparam</a></span>()</code>
<div class="block">
<font color="red">
readparam(&lt;parameter number&gt;{,"&lt;character name&gt;"})
</font>

readparam(&lt;parameter number&gt;{,&lt;char_id&gt;})
        
        This function will return the specified stat of the invoking character, or, if a
        character name or character id is specified, of that player.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_skillpointcount--">skillpointcount</a></span>()</code>
<div class="block">
<font color="red">
skillpointcount({&lt;char_id&gt;})
</font>

        
        Returns the total amount of skill points a character possesses (SkillPoint+SP's used in skills)
        This command can be used to check the currently attached characters total amount of skill points.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_strcharinfo--">strcharinfo</a></span>()</code>
<div class="block">
<font color="red">
strcharinfo(&lt;type&gt;{,&lt;char_id&gt;})
</font>

        
        This function will return either the name, party name or guild name for the
        invoking character.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_strnpcinfo--">strnpcinfo</a></span>()</code>
<div class="block">
<font color="red">
strnpcinfo(&lt;type&gt;)
</font>

        
        This function will return the various parts of the name of the calling NPC.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_vip_status--">vip_status</a></span>()</code>
<div class="block">
<font color="red">
vip_status(&lt;type&gt;,{"&lt;character name&gt;"})
</font>

        
        Returns various information about a player's VIP status.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html#Z:Z_vip_time--">vip_time</a></span>()</code>
<div class="block">
<font color="red">
vip_time &lt;time&gt;,{"&lt;character name&gt;"};
</font>

        
        Changes a player's VIP time (in minutes).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="Z:Z0200_Information_Retrieving_Commands--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>0200_Information_Retrieving_Commands</h4>
<pre>public&nbsp;0200_Information_Retrieving_Commands()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="Z:Z_strcharinfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>strcharinfo</h4>

<div class="block"><pre>
<font color="red">
strcharinfo(&lt;type&gt;{,&lt;char_id&gt;})
</font>

        
        This function will return either the name, party name or guild name for the
        invoking character. Whatever it returns is determined by type.
        
         0 - Character's name.
         1 - The name of the party they're in if any.
         2 - The name of the guild they're in if any.
         3 - The name of the map the character is in.
        
        If a character is not a member of any party or guild, an empty string will be
        returned when requesting that information.
</pre></div>
</li>
</ul>
<a name="Z:Z_strnpcinfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>strnpcinfo</h4>

<div class="block"><pre>
<font color="red">
strnpcinfo(&lt;type&gt;)
</font>

        
        This function will return the various parts of the name of the calling NPC.
        Whatever it returns is determined by type.
        
         0 - The NPC's display name (visible#hidden)
         1 - The visible part of the NPC's display name
         2 - The hidden part of the NPC's display name
         3 - The NPC's unique name (::name)
         4 - The name of the map the NPC is in.
</pre></div>
</li>
</ul>
<a name="Z:Z_getarraysize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getarraysize</h4>

<div class="block"><pre>
<font color="red">
getarraysize(&lt;array name&gt;)
</font>

        
        This function returns highest index of the array that is filled.
        Notice that zeros and empty strings at the end of this array are not
        counted towards this number.
        
        For example:
        
            setarray @array[0], 100, 200, 300, 400, 500, 600;
            set @arraysize,getarraysize(@array);
        
        This will make @arraysize == 6. But if you try this:
        
            setarray @array[0], 100, 200, 300, 400, 500, 600, 0;
            set @arraysize,getarraysize(@array);</div>
</li>
</ul>
<a name="Z:Z_getelementofarray--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getelementofarray</h4>

<div class="block"><pre>
<font color="red">
getelementofarray(&lt;array name&gt;,&lt;index&gt;)
</font>

        
        This command retrieves the value of the element of given array at given index.
        This is equivalent to using:
        
            &lt;array name&gt;[&lt;index&gt;]
        
        The reason for this is, that this short form is internally converted into a call
        to getelementofarray, when the script is loaded.
        
        Also useful when passing arrays to functions or accessing another npc's arrays:
            getelementofarray(getarg(0),&lt;index&gt;)
            getelementofarray(getvariableofnpc(.var, "testNPC"),&lt;index&gt;)
</pre></div>
</li>
</ul>
<a name="Z:Z_readparam--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readparam</h4>

<div class="block"><pre>
<font color="red">
readparam(&lt;parameter number&gt;{,"&lt;character name&gt;"});
readparam(&lt;parameter number&gt;{,&lt;char_id&gt;});
</font>

        
        This function will return the specified stat of the invoking character, or, if a
        character name or character id is specified, of that player. The stat can either
        be a number or parameter name, defined in 'src/map/script_constants.hpp'.
        
        Some example parameters:
        
        StatusPoint, BaseLevel, SkillPoint, Class, Upper, Zeny, Sex, Weight, MaxWeight,
        JobLevel, BaseExp, JobExp, NextBaseExp, NextJobExp, Hp, MaxHp, Sp, MaxSp,
        BaseJob, Karma, Manner, bVit, bDex, bAgi, bStr, bInt, bLuk
        
        All of these also behave as variables, but don't expect to be able to just 'set'
        them - some will not work for various internal reasons.
        
        Example 1:
        
            // Returns how many status points you haven't spent yet.
            mes "Unused status points: " + readparam(9);
        
        Using this particular information as a function call is not required. Typing this
        will return the same result:
        
            mes "Unused status points: " + StatusPoint;
        
        Example 2:
        
        You can also use this command to get stat values.
        
            if (readparam(bVit) &gt; 77)
                mes "Only people with over 77 Vit are reading this!";
</pre></div>
</li>
</ul>
<a name="Z:Z_getcharid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getcharid</h4>

<div class="block"><pre>
<font color="red">
getcharid(&lt;type&gt;{,"&lt;character name&gt;"})
</font>

        
        This function will return a unique ID number of the invoking character, or, if a
        character name is specified, of that player.
        
        Type is the kind of associated ID number required:
        
         0 - Character ID
         1 - Party ID
         2 - Guild ID
         3 - Account ID
         4 - Battle Ground ID
         5 - Clan ID
        
        For most purposes other than printing it, a number is better to have than a name
        (people do horrifying things to their character names).
        
        If the character is not in a party or not in a guild, the function will return 0
        if guild or party number is requested. If a name is specified and the character
        is not found, 0 is returned.
        
        If getcharid(0) returns a zero, the script got called not by a character and
        doesn't have an attached RID. Note that this will cause the map server to
        print "player not attached!" error messages, so it is preferred to use
        "playerattached" to check for the character attached to the script.
        
        if (getcharid(2) == 0)
                mes "Only members of a guild are allowed here!";
</pre></div>
</li>
</ul>
<a name="Z:Z_getnpcid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getnpcid</h4>

<div class="block"><pre>
<font color="red">
getnpcid(&lt;type&gt;{,"&lt;npc name&gt;"});
</font>

        
        Retrieves IDs of the currently invoked NPC. If a unique npc name is
        given, IDs of that NPC are retrieved instead. Type specifies what ID
        to retrieve and can be one of the following:
        
            0 - NPC Game ID
        
        If an invalid type is given or the NPC does not exist, 0 is returned.
</pre></div>
</li>
</ul>
<a name="Z:Z_getchildid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getchildid</h4>

<div class="block"><pre>
<font color="red">
getchildid({&lt;char_id&gt;});
getmotherid({&lt;char_id&gt;});
getfatherid({&lt;char_id&gt;});
</font>

        
        These functions return the character ID of the attached player's child,
        mother, mother, or father, respectively. It returns 0 if no ID is found.
        
            if (getmotherid()) mes "Your mother's ID is: " + getmotherid();
</pre></div>
</li>
</ul>
<a name="Z:Z_ispartneron--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ispartneron</h4>

<div class="block"><pre>
<font color="red">
ispartneron({&lt;char_id&gt;})
</font>

        
        This function returns 1 if the invoking character's marriage partner is
        currently online and 0 if they are not or if the character has no partner.
</pre></div>
</li>
</ul>
<a name="Z:Z_getpartnerid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getpartnerid</h4>

<div class="block"><pre>
<font color="red">
getpartnerid({&lt;char_id&gt;})
</font>

        
        This function returns the character ID of the invoking character's marriage
        partner, if any. If the invoking character is not married, it will return 0,
        which is a quick way to see if they are married:
        
            if (getpartnerid()) mes "I'm not going to be your girlfriend!";
            if (getpartnerid()) mes "You're married already!";
</pre></div>
</li>
</ul>
<a name="Z:Z_getlook--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getlook</h4>

<div class="block"><pre>
<font color="red">
getlook(&lt;type&gt;{,&lt;char_id&gt;})
</font>

        
        This function will return the number for the current character look value
        specified by type. See 'setlook' for valid look types.
        
        This can be used to make a certain script behave differently for characters
        dressed in black.
</pre></div>
</li>
</ul>
<a name="Z:Z_getsavepoint--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getsavepoint</h4>

<div class="block"><pre>
<font color="red">
getsavepoint(&lt;information type&gt;{,&lt;char_id&gt;})
</font>

        
        This function will return information about the invoking character's save point.
        You can use it to let a character swap between several recorded save points.
        Available information types are:
        
         0 - Map name (a string)
         1 - X coordinate
         2 - Y coordinate
</pre></div>
</li>
</ul>
<a name="Z:Z_getcharip--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getcharip</h4>

<div class="block"><pre>
<font color="red">
getcharip({"&lt;character name&gt;"|&lt;account id&gt;|&lt;char id&gt;})
</font>

        
        This function will return the IP address of the invoking character, or, if a player
        is specified, of that character. A blank string is returned if no player is attached.
        
        Examples:
        
        // Outputs IP address of attached player.
                mes "Your IP: " + getcharip();
        
        // Outputs IP address of character "Silver".
                mes "Silver's IP: " + getcharip("Silver");
</pre></div>
</li>
</ul>
<a name="Z:Z_vip_status--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vip_status</h4>

<div class="block"><pre>
<font color="red">
vip_status(&lt;type&gt;,{"&lt;character name&gt;"})
</font>

        
        Returns various information about a player's VIP status.
        
        Valid types:
         VIP_STATUS_ACTIVE - VIP status: true if the player is a VIP or false if not
         VIP_STATUS_EXPIRE - VIP expire timestamp if the player is VIP or 0 if not
         VIP_STATUS_REMAINING - VIP time remaining in seconds
        
        NOTE: This command is only available if the VIP System is enabled.
</pre></div>
</li>
</ul>
<a name="Z:Z_vip_time--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vip_time</h4>

<div class="block"><pre>
<font color="red">
vip_time &lt;time&gt;,{"&lt;character name&gt;"};
</font>

        
        Changes a player's VIP time (in minutes). A positive value will increase time, and a
        negative value will decrease time.
        
        NOTE: This command is only available if the VIP System is enabled.
</pre></div>
</li>
</ul>
<a name="Z:Z_addspiritball--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addspiritball</h4>

<div class="block"><pre>
<font color="red">
addspiritball &lt;count&gt;,&lt;duration&gt;{,&lt;char_id&gt;};
</font>

        
        Adds spirit ball to player for 'duration' in milisecond.
</pre></div>
</li>
</ul>
<a name="Z:Z_delspiritball--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delspiritball</h4>

<div class="block"><pre>
<font color="red">
delspiritball &lt;count&gt;{,&lt;char_id&gt;};
</font>

        
        Deletes the spirit ball(s) from player.
</pre></div>
</li>
</ul>
<a name="Z:Z_countspiritball--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countspiritball</h4>

<div class="block"><pre>
<font color="red">
countspiritball {&lt;char_id&gt;};
</font>

        
        Counts the spirit ball that player has.
</pre></div>
</li>
</ul>
<a name="Z:Z_ignoretimeout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ignoretimeout</h4>

<div class="block"><pre>
<font color="red">
ignoretimeout &lt;flag&gt;{,&lt;char_id&gt;};
</font>

        
        Disables the SECURE_NPCTIMEOUT function on the character invoking the script,
        or by the given character ID/character name.
        
        Valid flag:
         0 - Enabled SECURE_NPCTIMEOUT.
         1 - Disable SECURE_NPCTIMEOUT.
        
        Note: SECURE_NPCTIMEOUT must be enabled for this to work.
</pre></div>
</li>
</ul>
<a name="Z:Z_getmapxy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getmapxy</h4>

<div class="block"><pre>
<font color="red">
getmapxy("&lt;variable for map name&gt;",&lt;variable for x&gt;,&lt;variable for y&gt;{,&lt;type&gt;,"&lt;search value&gt;"})
</font>

        
        This function will locate a character object, NPC object or pet's coordinates
        and place their coordinates into the variables specified when calling it. It
        will return 0 if the search was successful, and -1 if the parameters given were
        not variables or the search was not successful.
        
        Type is the type of object to search for:
        
                BL_PC   - Character object (default)
                BL_NPC  - NPC object
                BL_PET  - Pet object
                BL_HOM  - Homunculus object
                BL_MER  - Mercenary object
                BL_ELEM - Elemental object
        
        The search value is optional. If it is not specified, the location of the
        invoking character will always be returned for types BL_PC and BL_PET,
        the location of the NPC running this function for type BL_NPC.
        
        If a search value is specified, for types BL_PC and BL_NPC, the
        character or NPC with the specified name or GID will be located.
        
        If type is BL_PET/BL_HOM/BL_MER/BL_ELEM, the search
        will locate the current object of the character who's name/GID is given in the
        search value, it will NOT locate the object by name.
        
        Example:
        
            prontera,164,301,3%TAB%script%TAB%Meh%TAB%730,{
                mes "My name is Meh. I'm here so that Nyah can find me.";
                close;
            }
        
            prontera,164,299,3%TAB%script%TAB%Nyah%TAB%730,{
                mes "My name is Nyah.";
                mes "I will now search for Meh all across the world!";
                if (getmapxy(@mapname$, @mapx, @mapy, BL_NPC, "Meh") != 0) {
                        mes "I can't seem to find Meh anywhere!";
                        close;
                }
                mes "And I found him on map " + @mapname$ + " at X:" + @mapx + " Y:" + @mapy + " !";
                close;
           }
        
        Notice that NPC objects disabled with 'disablenpc' will still be located.
</pre></div>
</li>
</ul>
<a name="Z:Z_mapid2name--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mapid2name</h4>

<div class="block"><pre>
<font color="red">
mapid2name(&lt;map ID&gt;)
</font>

        
        Returns the map name of the given map ID. Returns an empty string if given
        map ID doesn't exist.
</pre></div>
</li>
</ul>
<a name="Z:Z_getgmlevel--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getgmlevel</h4>

<div class="block"><pre>
<font color="red">
getgmlevel({&lt;char_id&gt;})
</font>

        
        This function will return the (GM) level associated with the player group to which
        the invoking character belongs. If this is somehow executed from a console command,
        99 will be returned, and 0 will be returned if the account has no GM level.
        
        This allows you to make NPC's only accessible for certain GM levels, or behave
        specially when talked to by GMs.
        
           if (getgmlevel()) mes "What is your command, your godhood?";
</pre></div>
</li>
</ul>
<a name="Z:Z_getgroupid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getgroupid</h4>

<div class="block"><pre>
<font color="red">
getgroupid({&lt;char_id&gt;})
</font>

        
        This function will return the group id to which the invoking player belongs.
</pre></div>
</li>
</ul>
<a name="Z:Z_gettimetick--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gettimetick</h4>

<div class="block"><pre>
<font color="red">
gettimetick(&lt;tick type&gt;)
</font>

        
        This function will return a tick depending on &lt;tick type&gt;:
         0: The server's tick, a measurement in milliseconds used by the server's timer
            system. This tick is an unsigned int which loops every ~50 days.
         1: The time, in seconds, since the start of the current day.
         2: The system time in UNIX epoch time, or the number of seconds elapsed since
            January 1st, 1970. Useful for reliably measuring time intervals.
</pre></div>
</li>
</ul>
<a name="Z:Z_gettime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gettime</h4>

<div class="block"><pre>
<font color="red">
gettime(&lt;type&gt;)
</font>

        
        This function will return specified information about the current system time.
        
        DT_SECOND - Seconds (of the current minute)
        DT_MINUTE - Minutes (of the current hour)
        DT_HOUR - Hour (of the current day)
        DT_DAYOFWEEK - Week day (constants for MONDAY to SUNDAY are available)
        DT_DAYOFMONTH - Day of the current month
        DT_MONTH - Month (constants for JANUARY to DECEMBER are available)
        DT_YEAR - Year
        DT_DAYOFYEAR - Day of the year
        DT_YYYYMMDD - current date in the form YYYYMMDD
        
        It will only return numbers. If another type is supplied -1 will be returned.
        
                if (gettime(DT_DAYOFWEEK) == SATURDAY) mes "It's a Saturday. I don't work on Saturdays.";
</pre></div>
</li>
</ul>
<a name="Z:Z_gettimestr--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gettimestr</h4>

<div class="block"><pre>
<font color="red">
gettimestr(&lt;"time format"&gt;,&lt;max length&gt;{,&lt;time_tick&gt;})
</font>

        
        This function will return a string containing time data as specified by the
        time format.
        
        This uses the C function 'strfmtime', which obeys special format characters. For
        a full description see, for example, the description of 'strfmtime' at
        http://www.delorie.com/gnu/docs/glibc/libc_437.html
        All the format characters given in there should properly work.
        Max length is the maximum length of a time string to generate.
        
        The example given in rAthena sample scripts works like this:
        
          mes gettimestr("%Y-%m/%d %H:%M:%S",21);
        
        The example above will print the current date and time like 'YYYY-MM/DD HH:MM:SS'.
        The following example will print the date and time when the player's VIP status
        expires by the given &lt;time_tick&gt;:
        
          mes gettimestr("%Y-%m/%d %H:%M:%S",21,vip_status(VIP_STATUS_EXPIRE));
</pre></div>
</li>
</ul>
<a name="Z:Z_getusers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getusers</h4>

<div class="block"><pre>
<font color="red">
getusers(&lt;type&gt;)
</font>

        
        This function will return a number of users on a map or the whole server. What
        it returns is specified by Type.
        
        Type can be one of the following values, which control what will be returned:
        
            0 - Count of all characters on the map of the invoking character.
            1 - Count of all characters in the entire server.
            8 - Count of all characters on the map of the NPC the script is
                running in.
</pre></div>
</li>
</ul>
<a name="Z:Z_getmapusers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getmapusers</h4>

<div class="block"><pre>
<font color="red">
getmapusers("&lt;map name&gt;")
</font>

        
        This function will return the number of users currently located on the specified
        map.
        
        This is used officially in PVP scripts to check whether a room is filled to capacity.
</pre></div>
</li>
</ul>
<a name="Z:Z_getareausers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getareausers</h4>

<div class="block"><pre>
<font color="red">
getareausers("&lt;map name&gt;",&lt;x1&gt;,&lt;y1&gt;,&lt;x2&gt;,&lt;y2&gt;)
</font>

        
        This function will return the count of connected characters which are located
        within the specified area - an x1/y1-x2/y2 square on the specified map.
        
        This is useful for maps that are split into many buildings, such as all the
        "*_in" maps, due to all the shops and houses.
</pre></div>
</li>
</ul>
<a name="Z:Z_getunits--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getunits</h4>

<div class="block"><pre>
<font color="red">
getunits(&lt;type&gt;{,&lt;array_variable&gt;[&lt;first value&gt;]})
</font>

getmapunits(&lt;type&gt;,&lt;"map name"&gt;{,&lt;array_variable&gt;[&lt;first value&gt;]})
getareaunits(&lt;type&gt;,&lt;"map name"&gt;,&lt;x1&gt;,&lt;y1&gt;,&lt;x2&gt;,&lt;y2&gt;{,&lt;array_variable&gt;[&lt;first value&gt;]})
        
        The 'getunits' command will return the number of &lt;type&gt; objects active on the server.
        
        The 'getmapunits' command will return the number of &lt;type&gt; objects active on the
        specified &lt;"map name"&gt;.
        
        The 'getareaunits' command will return the number of &lt;type&gt; objects actively located
        within the specified area where &lt;x1&gt;, &lt;y1&gt;, &lt;x2&gt;, &lt;y2&gt; form the area.
        
        Type is the type of object to search for:
        
                BL_PC   - Character objects
                BL_MOB  - Monster objects
                BL_PET  - Pet objects
                BL_HOM  - Homunculus objects
                BL_MER  - Mercenary objects
                BL_NPC  - NPC objects
                BL_ELEM - Elemental objects
        
        If &lt;array_variable&gt; is provided:
                - An int variable will return the list of GID.
                - A string variable will return the list of names.
        
        Example 1:
                // getting the players count and building a string array of the names.
                .@num = getunits(BL_PC,.@array$[0]);
        
                mes "the number of Users Connected to the server is " + .@num + " .";
                mes "list of Players names :";
                freeloop(1);    // for if the list was too big.
                for(.@i=0;.@i&lt;getarraysize(.@array$);.@i++)
                        mes (.@i + 1) + " " + .@array$[.@i];
                freeloop(0);
                end;
        
        Example 2:
                // getting the npc count in Prontera and building a string array of the names.
                .@num = getmapunits(BL_NPC,"prontera",.@array$[0]);
        
                mes "the number of NPCs in Prontera is " + .@num + " .";
                mes "list of NPCs name :";
                freeloop(1);    // for if the list was too big.
                for(.@i=0;.@i&lt;getarraysize(.@array$);.@i++)
                        mes (.@i + 1) + " " + .@array$[.@i];
                freeloop(0);
                end;
        
        Example 3:
                // getting the monster count in Prontera with specific coordinates and building a int array of the GIDs.
                .@num = getareaunits(BL_MOB,"prontera",154,186,159,182,.@array[0]);
        
                mes "the number of Monsters in Prontera in that Coordinates is " + .@num + " .";
                mes "list of Monsters GID :";
                freeloop(1);    // for if the list was too big.
                for(.@i=0;.@i&lt;getarraysize(.@array);.@i++)
                        mes (.@i + 1) + " " + .@array[.@i];
                freeloop(0);
                end;
</pre></div>
</li>
</ul>
<a name="Z:Z_getskilllv--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getskilllv</h4>

<div class="block"><pre>
<font color="red">
getskilllv(&lt;skill id&gt;);
getskilllv("&lt;skill name&gt;");
</font>

        
        This function returns the level of the specified skill that the invoking
        character has. If they don't have the skill, 0 will be returned. The full list
        of character skills is available in 'db/(pre-)re/skill_db.txt'.
        
        There are two main uses for this function, it can check whether the character
        has a skill or not, and it can tell you if the level is high enough.
        
        Example 1:
                if (getskilllv(152))
                        mes "You have got the skill Throw Stone";
                else
                        mes "You don't have Throw Stone";
                close;
        
        Example 2:
                if (getskilllv(28) &gt;= 5)
                        mes "Your heal lvl is 5 or more";
                else if (getskilllv(28) == 10)
                        mes "Your heal lvl has been maxed";
                else
                        mes "You heal skill is below lvl 5";
                close;
</pre></div>
</li>
</ul>
<a name="Z:Z_getskilllist--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getskilllist</h4>

<div class="block"><pre>
<font color="red">
getskilllist({&lt;char_id&gt;});
</font>

        
        This command sets a bunch of arrays with a complete list of skills the
        invoking character has. Here's what you get:</div>
</li>
</ul>
<a name="Z:Z_getmonsterinfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getmonsterinfo</h4>

<div class="block"><pre>
<font color="red">
getmonsterinfo(&lt;mob ID&gt;,&lt;type&gt;)
</font>

        
        This function will look up the monster with the specified ID number in the
        mob database and return the info set by TYPE argument.
        It will return -1 if there is no such monster (or the type value is invalid),
        or "null" if you requested the monster's name.
        
        Valid types are:
                MOB_NAME - monster's name, if there is no such monster "null" is returned
                MOB_LV - monster's level
                MOB_MAXHP - monster's maximum hp
                MOB_BASEEXP - monster's base experience
                MOB_JOBEXP - monster's job experience
                MOB_ATK1 - monster's atk
                MOB_ATK2 - monster's atk2
                MOB_DEF - monster's def
                MOB_MDEF - monster's mdef
                MOB_STR - monster's str
                MOB_AGI - monster's agi
                MOB_VIT - monster's vit
                MOB_INT - monster's int
                MOB_DEX - monster's dex
                MOB_LUK - monster's luk
                MOB_RANGE - monster's range
                MOB_RANGE2 - monster's range2
                MOB_RANGE3 - monster's range3
                MOB_SIZE - monster's size
                MOB_RACE - monster's race
                MOB_ELEMENT - monster's element(doesn't return the element level, only the element ID)
                MOB_MODE - monster's mode
                MOB_MVPEXP - monster's mvp experience
        
        For more details, see the sample in 'doc/sample/getmonsterinfo.txt'.
</pre></div>
</li>
</ul>
<a name="Z:Z_getmobdrops--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getmobdrops</h4>

<div class="block"><pre>
<font color="red">
getmobdrops(&lt;mob id&gt;)
</font>

        
        This command will find all drops of the specified mob and return the item IDs
        and drop percentages into arrays of temporary global variables.
        'getmobdrops' returns 1 if successful and 0 if the mob ID doesn't exist.
        
        Upon executing this,
        
        $@MobDrop_item[] is a global temporary number array which contains the
                         item IDs of the monster's drops.
        
        $@MobDrop_rate[] is a global temporary number array which contains the
                         drop percentages of each item. (1 = .01%)
        
        $@MobDrop_count is the number of item drops found.
        
        Be sure to use $@MobDrop_count to go through the arrays, and not
        'getarraysize', because the temporary global arrays are not cleared between
        runs of 'getmobdrops'. If a mob with 7 item drops is looked up, the arrays would
        have 7 elements. But if another mob is looked up and it only has 5 item drops,
        the server will not clear the arrays for you, overwriting the values instead. So
        in addition to returning the 5 item drops, the 6th and 7th elements from the
        last call remain, and you will get 5+2 item drops, of which the last 2 don't
        belong to the new mob. $@MobDrop_count will always contain the correct number
        (5), unlike 'getarraysize()' which would return 7 in this case.
        
        Example:
        
                // get a Mob ID from the user
                input .@mob_id;
        
                if (getmobdrops(.@mob_id)) {    // 'getmobdrops' returns 1 on success
                        // immediately copy global temporary variables into scope variables,
                        // since we don't know when 'getmobdrops' will get called again for
                        // another mob, overwriting your global temporary variables
                        .@count = $@MobDrop_count;
                        copyarray .@item[0],$@MobDrop_item[0],.@count;
                        copyarray .@rate[0],$@MobDrop_rate[0],.@count;
        
                        mes getmonsterinfo(.@mob_id,MOB_NAME) + " - " + .@count + " drops found:";
                        for( .@i = 0; .@i &lt; .@count; .@i++ ) {
                                mes .@item[.@i] + " (" + getitemname(.@item[.@i]) + ") " + .@rate[.@i]/100 + ((.@rate[.@i]%100 &lt; 10) ? ".0":".") + .@rate[.@i]%100 + "%";
                        }
                } else {
                        mes "Unknown monster ID.";
                }
                close;
</pre></div>
</li>
</ul>
<a name="Z:Z_skillpointcount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skillpointcount</h4>

<div class="block"><pre>
<font color="red">
skillpointcount({&lt;char_id&gt;})
</font>

        
        Returns the total amount of skill points a character possesses (SkillPoint+SP's used in skills)
        This command can be used to check the currently attached characters total amount of skill points.
        This means the skill points used in skill are counted, and added to SkillPoints (number of skill points not used).
        This command does not count skills which are set as flag 4 (permament granted) (ALL_BUYING_STORE/ALL_INCCARRY)
        
        Example 1:
                .@skillPoints = skillpointcount();
                mes "You have " + .@skillPoints + " skill points in total!";
        
        Example 2:
                if (skillpointcount() &gt; 20)
                        mes "Wow, you have more then 20 Skill Points in total!";
</pre></div>
</li>
</ul>
<a name="Z:Z_getscrate--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getscrate</h4>

<div class="block"><pre>
<font color="red">
getscrate(&lt;effect type&gt;,&lt;base rate&gt;{,&lt;GID&gt;})
</font>

        
        This function will return the chance of a status effect affecting the invoking
        character, in percent, modified by the their current defense against said
        status. The 'base rate' is the base chance of the status effect being inflicted,
        in percent.
        
            if (rand(100) &gt; getscrate(Eff_Blind, 50)) goto BlindHimNow;
        
        You can see the full list of available effect types you can possibly inflict in
        'db/const.txt' under 'Eff_'.
</pre></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/0200_Information_Retrieving_Commands.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html" title="exp.ro.cmd.ch.02_info中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html" target="_top">框架</a></li>
<li><a href="0200_Information_Retrieving_Commands.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 工程的初始时间(可选)&#x2013;2019. All rights reserved.</small></p>
</body>
</html>
