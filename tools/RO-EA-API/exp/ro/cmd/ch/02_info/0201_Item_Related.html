<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_191) on Tue Oct 15 01:49:30 CST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>0201_Item_Related (RO - rAthena Script Commands v20190306 API)</title>
<meta name="date" content="2019-10-15">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="0201_Item_Related (RO - rAthena Script Commands v20190306 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/0201_Item_Related.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html" title="exp.ro.cmd.ch.02_info中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../exp/ro/cmd/ch/02_info/0202_Guild_Related.html" title="exp.ro.cmd.ch.02_info中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?exp/ro/cmd/ch/02_info/0201_Item_Related.html" target="_top">框架</a></li>
<li><a href="0201_Item_Related.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">exp.ro.cmd.ch.02_info</div>
<h2 title="类 0201_Item_Related" class="title">类 0201_Item_Related</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>exp.ro.cmd.ch.02_info.0201_Item_Related</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">0201_Item_Related</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></pre>
<div class="block"><pre>
===============================
|0201.- Item-related commands.|
===============================
</pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z0201_Item_Related--">0201_Item_Related</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_cardscnt--">cardscnt</a></span>()</code>
<div class="block">
<font color="red">
cardscnt()
</font>

        
        This function will return the number of cards inserted into the equipment
        from which the function is called.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getareadropitem--">getareadropitem</a></span>()</code>
<div class="block">
<font color="red">
getareadropitem("&lt;map name&gt;",&lt;x1&gt;,&lt;y1&gt;,&lt;x2&gt;,&lt;y2&gt;,&lt;item&gt;)
</font>

        
        This function will count all the items with the specified ID number lying on the
        ground on the specified map within the x1/y1-x2/y2 square on it and return that
        number.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getbrokenid--">getbrokenid</a></span>()</code>
<div class="block">
<font color="red">
getbrokenid(&lt;number&gt;{,&lt;char_id&gt;})
</font>

        
        This function will search the invoking character's inventory for any broken
        items, and will return their item ID numbers.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getequipcardcnt--">getequipcardcnt</a></span>()</code>
<div class="block">
<font color="red">
getequipcardcnt(&lt;equipment slot&gt;)
</font>

        
        This function will return the number of cards that have been compounded onto a
        specific equipped item for the invoking character.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getequipcardid--">getequipcardid</a></span>()</code>
<div class="block">
<font color="red">
getequipcardid(&lt;equipment slot&gt;,&lt;card slot&gt;)
</font>

        
        Returns value from equipped item slot in the indicated slot (0, 1, 2, or 3).</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getequipid--">getequipid</a></span>()</code>
<div class="block">
<font color="red">
getequipid({&lt;equipment slot&gt;,&lt;char_id&gt;})
</font>

        
        This function returns the item ID of the item slot that calls the script
        on the invoking character or the specified equipment slot.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getequipisenableref--">getequipisenableref</a></span>()</code>
<div class="block">
<font color="red">
getequipisenableref(&lt;equipment slot&gt;{,&lt;char_id&gt;})
</font>

        
        Will return 1 if the item equipped on the invoking character in the specified
        equipment slot is refinable, and 0 if it isn't.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getequipisequiped--">getequipisequiped</a></span>()</code>
<div class="block">
<font color="red">
getequipisequiped(&lt;equipment slot&gt;{,&lt;char_id&gt;})
</font>

        
        This functions will return 1 if there is an equipment placed on the specified
        equipment slot and 0 otherwise.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getequipname--">getequipname</a></span>()</code>
<div class="block">
<font color="red">
getequipname(&lt;equipment slot&gt;{,&lt;char_id&gt;})
</font>

        
        Returns the jname of the item equipped in the specified equipment slot on the
        invoking character, or an empty string if nothing is equipped in that position.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getequippercentrefinery--">getequippercentrefinery</a></span>()</code>
<div class="block">
<font color="red">
getequippercentrefinery(&lt;equipment slot&gt;{,&lt;enriched&gt;,&lt;char_id&gt;})
</font>

        
        This function calculates and returns the percent value chance to successfully
        refine the item found in the specified equipment slot of the invoking character
        by +1.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getequiprefinecost--">getequiprefinecost</a></span>()</code>
<div class="block">
<font color="red">
getequiprefinecost(&lt;equipment slot&gt;,&lt;type&gt;,&lt;information&gt;{,&lt;char id&gt;})
</font>

        
        This function returns refine cost for equipment in &lt;equipment slot&gt; based on
        passed arguments &lt;type&gt; and &lt;information&gt;.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getequiprefinerycnt--">getequiprefinerycnt</a></span>()</code>
<div class="block">
<font color="red">
getequiprefinerycnt(&lt;equipment slot&gt;{,&lt;char_id&gt;})
</font>

        
        Returns the current number of pluses for the item in the specified equipment
        slot.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getequiptradability--">getequiptradability</a></span>()</code>
<div class="block">
<font color="red">
getequiptradability(&lt;equipment slot&gt;{,&lt;char id&gt;});
</font>

        
        Returns true if the item in &lt;equipment slot&gt; is tradable.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getequipuniqueid--">getequipuniqueid</a></span>()</code>
<div class="block">
<font color="red">
getequipuniqueid(&lt;equipment slot&gt;{,&lt;char_id&gt;})
</font>

        
        This function returns the unique ID (as a string) of the item equipped in the equipment slot
        specified on the invoking character.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getequipweaponlv--">getequipweaponlv</a></span>()</code>
<div class="block">
<font color="red">
getequipweaponlv(&lt;equipment slot&gt;{,&lt;char_id&gt;})
</font>

        
        This function returns the weapon level for the weapon equipped in the specified
        equipment slot on the invoking character.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getinventorylist--">getinventorylist</a></span>()</code>
<div class="block">
<font color="red">
getinventorylist {&lt;char_id&gt;};
</font>

        
        This command sets a bunch of arrays with a complete list of whatever the
        invoking character has in their inventory, including all the data needed to
        recreate these items perfectly if they are destroyed.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getiteminfo--">getiteminfo</a></span>()</code>
<div class="block">
<font color="red">
getiteminfo(&lt;item ID&gt;,&lt;type&gt;)
</font>

        
        This function will look up the item with the specified ID number in the database
        and return the info set by TYPE argument.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getitemname--">getitemname</a></span>()</code>
<div class="block">
<font color="red">
getitemname(&lt;item id&gt;)
</font>

        
        Given the database ID number of an item, this function will return the text
        stored in the 'japanese name' field (which, in rAthena, stores an English name
        the players would normally see on screen.)</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getitemslots--">getitemslots</a></span>()</code>
<div class="block">
<font color="red">
getitemslots(&lt;item ID&gt;)
</font>

        
        This function will look up the item with the specified ID number in the database
        and return the number of slots this kind of items has - 0 if they are not
        slotted.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getnameditem--">getnameditem</a></span>()</code>
<div class="block">
<font color="red">
getnameditem(&lt;item id&gt;,"&lt;name to inscribe&gt;"|&lt;char id&gt;);
</font>

getnameditem("&lt;item name&gt;","&lt;name to inscribe&gt;"|&lt;char id&gt;);
        
        This function is equivalent to using 'getitem', however, it will not just give
        the character an item object, but will also inscribe it with a specified
        character's name.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_getrefine--">getrefine</a></span>()</code>
<div class="block">
<font color="red">
getrefine()
</font>

        
        This function will return the refine count of the equipment from which the
        function is called.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_identifyall--">identifyall</a></span>()</code>
<div class="block">
<font color="red">
identifyall({&lt;type&gt;{,&lt;account_id&gt;}});
</font>

        
        Returns the count of unidentified items in the player inventory.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_mergeitem--">mergeitem</a></span>()</code>
<div class="block">
<font color="red">
mergeitem({,&lt;char_id&gt;});
</font>

        
        Open merge item window to merge available item can be merged.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../exp/ro/cmd/ch/02_info/0201_Item_Related.html#Z:Z_mergeitem2--">mergeitem2</a></span>()</code>
<div class="block">
<font color="red">
mergeitem2({&lt;item_id&gt;{,&lt;char_id&gt;}});
</font>

mergeitem2({"&lt;item name&gt;"{,&lt;char_id&gt;}});
        
        Merge all stackable items that separated by GUID flags
        (either by flag 4 item_flag.txt or GUID  in item_group).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="Z:Z0201_Item_Related--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>0201_Item_Related</h4>
<pre>public&nbsp;0201_Item_Related()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="Z:Z_getequipid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getequipid</h4>

<div class="block"><pre>
<font color="red">
getequipid({&lt;equipment slot&gt;,&lt;char_id&gt;})
</font>

        
        This function returns the item ID of the item slot that calls the script
        on the invoking character or the specified equipment slot. If nothing is
        equipped there, it returns -1.
        Valid equipment slots are:
        
        EQI_COMPOUND_ON (-1)      - Item slot that calls this script (In context of item script)
        EQI_ACC_L (0)             - Accessory 1
        EQI_ACC_R (1)             - Accessory 2
        EQI_SHOES (2)             - Footgear (shoes, boots)
        EQI_GARMENT (3)           - Garment (mufflers, hoods, manteaux)
        EQI_HEAD_LOW (4)          - Lower Headgear (beards, some masks)
        EQI_HEAD_MID (5)          - Middle Headgear (masks, glasses)
        EQI_HEAD_TOP (6)          - Upper Headgear
        EQI_ARMOR (7)             - Armor (jackets, robes)
        EQI_HAND_L (8)            - Left hand (weapons, shields)
        EQI_HAND_R (9)            - Right hand (weapons)
        EQI_COSTUME_HEAD_TOP (10) - Upper Costume Headgear
        EQI_COSTUME_HEAD_MID (11) - Middle Costume Headgear
        EQI_COSTUME_HEAD_LOW (12) - Lower Costume Headgear
        EQI_COSTUME_GARMENT (13)  - Costume Garment
        EQI_AMMO (14)                     - Arrow/Ammunition
        EQI_SHADOW_ARMOR (15)     - Shadow Armor
        EQI_SHADOW_WEAPON (16)    - Shadow Weapon
        EQI_SHADOW_SHIELD (17)    - Shadow Shield
        EQI_SHADOW_SHOES (18)     - Shadow Shoes
        EQI_SHADOW_ACC_R (19)     - Shadow Accessory 2
        EQI_SHADOW_ACC_L (20)     - Shadow Accessory 1
        
        Notice that a few items occupy several equipment slots, and if the character is
        wearing such an item, 'getequipid' will return its ID number for either slot.
        
        Can be used to check if you have something equipped, or if you haven't got
        something equipped:
        
                if (getequipid(EQI_HEAD_TOP) == 2234)
                        mes "What a lovely Tiara you have on";
                else
                        mes "Come back when you have a Tiara on";
                close;
        
        You can also use it to make sure people don't pass a point before removing an
        item totally from them. Let's say you don't want people to wear Legion Plate
        armor, but also don't want them to equip if after the check, you would do this:
        
                if (getequipid(EQI_ARMOR) == 2341 || getequipid(EQI_ARMOR) == 2342) {
                        mes "You are wearing some Legion Plate Armor, please drop that in your stash before continuing";
                        close;
                }
                // the || is used as an or argument, there is 2341 and 2342 cause there are
                // two different legion plate armors, one with a slot one without.
        
                if (countitem(2341) &gt; 0 || countitem(2432) &gt; 0) {
                        mes "You have some Legion Plate Armor in your inventory, please drop that in your stash before continuing";
                        close;
                }
                mes "I will lets you pass.";
                close2;
                warp "place",50,50;
                end;
</pre></div>
</li>
</ul>
<a name="Z:Z_getequipuniqueid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getequipuniqueid</h4>

<div class="block"><pre>
<font color="red">
getequipuniqueid(&lt;equipment slot&gt;{,&lt;char_id&gt;})
</font>

        
        This function returns the unique ID (as a string) of the item equipped in the equipment slot
        specified on the invoking character. If nothing is equipped there, it returns an empty string.
        See 'getequipid' for a full list of valid equipment slots.
</pre></div>
</li>
</ul>
<a name="Z:Z_getequipname--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getequipname</h4>

<div class="block"><pre>
<font color="red">
getequipname(&lt;equipment slot&gt;{,&lt;char_id&gt;})
</font>

        
        Returns the jname of the item equipped in the specified equipment slot on the
        invoking character, or an empty string if nothing is equipped in that position.
        Does the same thing as getitemname(getequipid()). Useful for an NPC to state
        what your are wearing, or maybe saving as a string variable.
        See 'getequipid' for a full list of valid equipment slots.
        
                if ( getequipname(EQI_HEAD_TOP) != "" )
                        mes "So you are wearing a " + getequipname(EQI_HEAD_TOP) + " on your head";
                else
                        mes "You are not wearing any head gear";
</pre></div>
</li>
</ul>
<a name="Z:Z_getitemname--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getitemname</h4>

<div class="block"><pre>
<font color="red">
getitemname(&lt;item id&gt;)
</font>

        
        Given the database ID number of an item, this function will return the text
        stored in the 'japanese name' field (which, in rAthena, stores an English name
        the players would normally see on screen.)
</pre></div>
</li>
</ul>
<a name="Z:Z_getbrokenid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getbrokenid</h4>

<div class="block"><pre>
<font color="red">
getbrokenid(&lt;number&gt;{,&lt;char_id&gt;})
</font>

        
        This function will search the invoking character's inventory for any broken
        items, and will return their item ID numbers. Since the character may have
        several broken items, 1 given as an argument will return the first one found, 2
        will return the second one, etc. Will return 0 if no such item is found.
        
                // Let's see if they have anything broken:
                if (getbrokenid(1) == 0)
                        mes "You don't have anything broken, quit bothering me.";
                else
                // They do, so let's print the name of the first broken item:
                        mes "Oh, I see you have a broken " + getitemname(getbrokenid(1)) + " here!";
                end;
</pre></div>
</li>
</ul>
<a name="Z:Z_getequipisequiped--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getequipisequiped</h4>

<div class="block"><pre>
<font color="red">
getequipisequiped(&lt;equipment slot&gt;{,&lt;char_id&gt;})
</font>

        
        This functions will return 1 if there is an equipment placed on the specified
        equipment slot and 0 otherwise. For a list of equipment slots
        see 'getequipid'. Function originally used by the refining NPCs:
        
            if (getequipisequiped(EQI_HEAD_TOP)) {
                mes "[Refiner]";
                mes "That's a fine hat you are wearing there...";
                close;
                } else {
                        mes "[Refiner]";
                        mes "Do you want me to refine your dumb head?";
                        close;
                }
</pre></div>
</li>
</ul>
<a name="Z:Z_getequipisenableref--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getequipisenableref</h4>

<div class="block"><pre>
<font color="red">
getequipisenableref(&lt;equipment slot&gt;{,&lt;char_id&gt;})
</font>

        
        Will return 1 if the item equipped on the invoking character in the specified
        equipment slot is refinable, and 0 if it isn't. For a list of equipment slots
        see 'getequipid'.
        
                if (getequipisenableref(EQI_HEAD_TOP)) {
                        mes "[Refiner]";
                        mes "Ok I can refine this";
                        close;
                } else {
                        mes "[Refiner]";
                        mes "I can't refine this hat!...";
                        close;
                }
</pre></div>
</li>
</ul>
<a name="Z:Z_getequiprefinerycnt--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getequiprefinerycnt</h4>

<div class="block"><pre>
<font color="red">
getequiprefinerycnt(&lt;equipment slot&gt;{,&lt;char_id&gt;})
</font>

        
        Returns the current number of pluses for the item in the specified equipment
        slot. For a list of equipment slots see 'getequipid'.
        
        Can be used to check if you have reached a maximum refine value, default for
        this is +10:
        
                if (getequiprefinerycnt(EQI_HEAD_TOP) &lt; 10)
                        mes "I will now upgrade your " + getequipname(EQI_HEAD_TOP);
                else
                        mes "Sorry, it's not possible to refine hats better than +10";
                close;
</pre></div>
</li>
</ul>
<a name="Z:Z_getequipweaponlv--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getequipweaponlv</h4>

<div class="block"><pre>
<font color="red">
getequipweaponlv(&lt;equipment slot&gt;{,&lt;char_id&gt;})
</font>

        
        This function returns the weapon level for the weapon equipped in the specified
        equipment slot on the invoking character. For a list of equipment slots see
        'getequipid'.
        
        Only EQI_HAND_L and EQI_HAND_R normally make sense, since only weapons have
        a weapon level. You can, however, probably, use this field for other equippable
        custom items as a flag or something.
        
        If no item is equipped in this slot, or if it doesn't have a weapon level
        according to the database, 0 will be returned.
        
        Examples:
        
        // Right hand can only contain a weapon.
            switch (getequipweaponlv(EQI_HAND_R)) {
              case 1: mes "You are holding a lvl 1 weapon."; break;
              case 2: mes "You are holding a lvl 2 weapon."; break;
              case 3: mes "You are holding a lvl 3 weapon."; break;
              case 4: mes "You are holding a lvl 4 weapon."; break;
              case 5: mes "You are holding a lvl 5 weapon, hm, must be a custom design..."; break;
              default: mes "Seems you don't have a weapon on."; break;
            }
        
        // Left hand can hold either a weapon or shield.
            if (getequipid(EQI_HAND_R) == 0) {
                mes "Seems you have nothing equipped here.";
                close;
            }
            switch (getequipweaponlv(EQI_HAND_L)) {
              case 0: mes "You are holding a shield, so it doesn't have a level."; break;
              case 1: mes "You are holding a lvl 1 weapon."; break;
              case 2: mes "You are holding a lvl 2 weapon."; break;
              case 3: mes "You are holding a lvl 3 weapon."; break;
              case 4: mes "You are holding a lvl 4 weapon."; break;
              case 5: mes "You are holding a lvl 5 weapon, hm, must be a custom design..."; break;
            }
</pre></div>
</li>
</ul>
<a name="Z:Z_getequippercentrefinery--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getequippercentrefinery</h4>

<div class="block"><pre>
<font color="red">
getequippercentrefinery(&lt;equipment slot&gt;{,&lt;enriched&gt;,&lt;char_id&gt;})
</font>

        
        This function calculates and returns the percent value chance to successfully
        refine the item found in the specified equipment slot of the invoking character
        by +1. There is no actual formula, the success rate for a given weapon level of
        a certain refine level is found in the db/(pre-)re/refine_db.yml file. For a list of
        equipment slots see 'getequipid'.
        
        If enriched parameter is set to true, chance to successfully refine the item with
        enriched material is returned instead.
        
        These values can be displayed for the player to see, or used to calculate the
        random change of a refine succeeding or failing and then going through with it
        (which is what the official NPC refinery scripts use it for)
        
        // This will find a random number from 0 - 99 and if that is equal to or more
        // than the value recovered by this command it will go to L_Fail
            if (getequippercentrefinery(EQI_HAND_L)&lt;=rand(100)) goto L_Fail;
</pre></div>
</li>
</ul>
<a name="Z:Z_getequiprefinecost--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getequiprefinecost</h4>

<div class="block"><pre>
<font color="red">
getequiprefinecost(&lt;equipment slot&gt;,&lt;type&gt;,&lt;information&gt;{,&lt;char id&gt;})
</font>

        
        This function returns refine cost for equipment in &lt;equipment slot&gt; based on
        passed arguments &lt;type&gt; and &lt;information&gt;.
        
        Valid cost types are:
        
        REFINE_COST_NORMAL     - For normal refining
        REFINE_COST_OVER10     - For refining over +10
        REFINE_COST_HD         - For refining with HD ores
        REFINE_COST_ENRICHED   - For refining with enriched ores
        REFINE_COST_OVER10_HD  - For refining over +10 with HD ores
        REFINE_COST_HOLINK     - For refining at Holink in Malangdo
        REFINE_COST_WAGJAK     - For refining at Refining Machine Wagjak in the Novice Academy
        
        This function will return required cost for refining based on &lt;information&gt; argument.
        
        Valid information types are:
        
        REFINE_ZENY_COST       - Zeny
        REFINE_MATERIAL_ID     - Material Item ID
        
        This function will return -1 on failure. The function fails if the cost type
        is invalid or if there is no item in the equipment slot.
</pre></div>
</li>
</ul>
<a name="Z:Z_getareadropitem--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getareadropitem</h4>

<div class="block"><pre>
<font color="red">
getareadropitem("&lt;map name&gt;",&lt;x1&gt;,&lt;y1&gt;,&lt;x2&gt;,&lt;y2&gt;,&lt;item&gt;)
</font>

        
        This function will count all the items with the specified ID number lying on the
        ground on the specified map within the x1/y1-x2/y2 square on it and return that
        number.
        
        This is the only function around where a parameter may be either a string or a
        number! If it's a number, it means that only the items with that item ID number
        will be counted. If it is a string, it is assumed to mean the 'english name'
        field from the item database. If you give it an empty string, or something that
        isn't found from the item database, it will count items number '512' (apples).
</pre></div>
</li>
</ul>
<a name="Z:Z_getequipcardcnt--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getequipcardcnt</h4>

<div class="block"><pre>
<font color="red">
getequipcardcnt(&lt;equipment slot&gt;)
</font>

        
        This function will return the number of cards that have been compounded onto a
        specific equipped item for the invoking character. See 'getequipid' for a list
        of possible equipment slots.
</pre></div>
</li>
</ul>
<a name="Z:Z_getinventorylist--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getinventorylist</h4>

<div class="block"><pre>
<font color="red">
getinventorylist {&lt;char_id&gt;};
</font>

        
        This command sets a bunch of arrays with a complete list of whatever the
        invoking character has in their inventory, including all the data needed to
        recreate these items perfectly if they are destroyed. Here's what you get:</div>
</li>
</ul>
<a name="Z:Z_cardscnt--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cardscnt</h4>

<div class="block"><pre>
<font color="red">
cardscnt()
</font>

        
        This function will return the number of cards inserted into the equipment
        from which the function is called.
        
        This function is intended for use in item scripts.
</pre></div>
</li>
</ul>
<a name="Z:Z_getrefine--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getrefine</h4>

<div class="block"><pre>
<font color="red">
getrefine()
</font>

        
        This function will return the refine count of the equipment from which the
        function is called.
        
        This function is intended for use in item scripts.
</pre></div>
</li>
</ul>
<a name="Z:Z_getnameditem--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getnameditem</h4>

<div class="block"><pre>
<font color="red">
getnameditem(&lt;item id&gt;,"&lt;name to inscribe&gt;"|&lt;char id&gt;);
getnameditem("&lt;item name&gt;","&lt;name to inscribe&gt;"|&lt;char id&gt;);
</font>

        
        This function is equivalent to using 'getitem', however, it will not just give
        the character an item object, but will also inscribe it with a specified
        character's name. You may not inscribe items with arbitrary strings, only with
        names of characters that actually exist. While this isn't said anywhere
        specifically, apparently, named items may not have cards in them, slots or no -
        these data slots are taken by the character ID who's name is inscribed. Only one
        remains free and it's not quite clear if a card may be there.
        
        This function will return 1 if an item was successfully created and 0 if it
        wasn't for whatever reason. Like 'getitem', this function will also accept an
        'english name' from the item database as an item name and will return 0 if no
        such item exists.
</pre></div>
</li>
</ul>
<a name="Z:Z_getitemslots--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getitemslots</h4>

<div class="block"><pre>
<font color="red">
getitemslots(&lt;item ID&gt;)
</font>

        
        This function will look up the item with the specified ID number in the database
        and return the number of slots this kind of items has - 0 if they are not
        slotted. It will also be 0 for all non-equippable items, naturally, unless
        someone messed up the item database. It will return -1 if there is no such item.
        
        Example:
        
        //.@slots now has the amount of slots of the item with ID 1205.
                .@slots = getitemslots(1205);
</pre></div>
</li>
</ul>
<a name="Z:Z_getiteminfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getiteminfo</h4>

<div class="block"><pre>
<font color="red">
getiteminfo(&lt;item ID&gt;,&lt;type&gt;)
</font>

        
        This function will look up the item with the specified ID number in the database
        and return the info set by TYPE argument.
        It will return -1 if there is no such item.
        
        Valid types are:
                0  - Buy Price
                1  - Sell Price
                2  - Type
                3  - maxchance (max drop chance of this item, e.g. 1 = 0.01%)
                         if = 0, then monsters don't drop it at all (rare or a quest item)
                         if = 10000, then this item is sold in NPC shops only
                4  - Gender
                5  - Loc
                6  - Weight
                7  - ATK
                8  - DEF
                9  - Range
                10 - Slot
                11 - View
                12 - eLV
                13 - wLV
                14 - SpriteID from 'db/item_avail.txt'
                15 - eLVMax
                16 - matk if RENEWAL is defined
        
        See the sample in 'doc/sample/getiteminfo.txt'.
</pre></div>
</li>
</ul>
<a name="Z:Z_getequipcardid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getequipcardid</h4>

<div class="block"><pre>
<font color="red">
getequipcardid(&lt;equipment slot&gt;,&lt;card slot&gt;)
</font>

        
        Returns value from equipped item slot in the indicated slot (0, 1, 2, or 3).
        
        This function returns CARD ID, CARD0_FORGE, CARD0_CREATE, or CARD0_PET (for card 0, if the item is produced).
        It's useful for when you want to check whether an item contains cards or if it's signed.
</pre></div>
</li>
</ul>
<a name="Z:Z_mergeitem--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeitem</h4>

<div class="block"><pre>
<font color="red">
mergeitem({,&lt;char_id&gt;});
</font>

        
        Open merge item window to merge available item can be merged.
        
        Examples
        1. See the NPC 'npc/re/other/merge_item.txt'.
        2. Simple usage:
            mes "Let's check if any item can be merged.";
            close2;
            mergeitem;
            end;
</pre></div>
</li>
</ul>
<a name="Z:Z_mergeitem2--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeitem2</h4>

<div class="block"><pre>
<font color="red">
mergeitem2({&lt;item_id&gt;{,&lt;char_id&gt;}});
mergeitem2({"&lt;item name&gt;"{,&lt;char_id&gt;}});
</font>

        
        Merge all stackable items that separated by GUID flags
        (either by flag 4 item_flag.txt or GUID  in item_group).
        If no item ID/name given, all possible items in player's inventory will be merged.
</pre></div>
</li>
</ul>
<a name="Z:Z_getequiptradability--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getequiptradability</h4>

<div class="block"><pre>
<font color="red">
getequiptradability(&lt;equipment slot&gt;{,&lt;char id&gt;});
</font>

        
        Returns true if the item in &lt;equipment slot&gt; is tradable.
        Returns false otherwise.
</pre></div>
</li>
</ul>
<a name="Z:Z_identifyall--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>identifyall</h4>

<div class="block"><pre>
<font color="red">
identifyall({&lt;type&gt;{,&lt;account_id&gt;}});
</font>

        
        Returns the count of unidentified items in the player inventory.
        If &lt;type&gt; is true the command will identify all the unidentified items as well (default).
        If &lt;type&gt; is false the command only returns the count of unidentified items.
</pre></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/0201_Item_Related.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../exp/ro/cmd/ch/02_info/0200_Information_Retrieving_Commands.html" title="exp.ro.cmd.ch.02_info中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../exp/ro/cmd/ch/02_info/0202_Guild_Related.html" title="exp.ro.cmd.ch.02_info中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?exp/ro/cmd/ch/02_info/0201_Item_Related.html" target="_top">框架</a></li>
<li><a href="0201_Item_Related.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 工程的初始时间(可选)&#x2013;2019. All rights reserved.</small></p>
</body>
</html>
